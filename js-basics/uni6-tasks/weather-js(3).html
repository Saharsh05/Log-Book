<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <!-- The page title shown in the browser -->
  <title>Weather API Fetch Test</title>
</head>
<body>
  <div>
    <!-- Input field for entering the town or city name -->
    <input type="text" id="weather-town" />

    <!-- Button that calls the searchWeather() function when clicked -->
    <button onclick="searchWeather()">Search</button>
    <br/><br/>

    <!-- Placeholder to display the fetched weather result -->
    The current weather is: <span id="results"></span>
  </div>
  <!-- JavaScript section that handles API request and DOM updates -->
  <script type="text/javascript">
    // API key for OpenWeatherMap 
    const APIKey = 'ab2c9d8ba56c7e1446bf3bfbcdcea5b1'
    async function searchWeather() {
      try {
        // Get the value (town name) entered by the user in the input field
        const town = document.getElementById('weather-town').value;
        // Fetch weather data from the OpenWeatherMap API using the entered town name
        const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${town}&appid=${APIKey}`);
        // Parse the JSON response returned by the API
        const responseData = await response.json();
        // Extract the first weather description object from the data
        const weather = responseData.weather[0]
        // Display the main weather and description in the results
        document.getElementById('results').textContent = `${weather.main} (${weather.description})`;
      } catch (error) {
        // catch any errors and Log them
        console.error('Error fetching weather:', error);
      }
    }
  </script>
</body>
</html>
